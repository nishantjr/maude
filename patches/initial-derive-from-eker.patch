From 13b989971c22c5a7c8fde0b4ff61272a1ea691f6 Mon Sep 17 00:00:00 2001
From: Everett Hildenbrandt <hildenb2@illinois.edu>
Date: Sat, 9 Sep 2017 22:00:41 -0500
Subject: [PATCH] derive-from-eker (new): script to pull in next changes from
 eker

---
 derive-from-eker | 26 ++++++++++++++++++++++++++
 1 file changed, 26 insertions(+)
 create mode 100755 derive-from-eker

diff --git a/derive-from-eker b/derive-from-eker
new file mode 100755
index 0000000..ea9739d
--- /dev/null
+++ b/derive-from-eker
@@ -0,0 +1,26 @@
+#!/usr/bin/env bash
+
+set -e
+
+stop_point="$1" && shift
+eker_branch="origin/eker/develop"
+
+current_eker() { git merge-base HEAD $eker_branch ; }
+next_eker()    { git rev-list --topo-order "$(current_eker)..$eker_branch" | tail -n 1 ; }
+
+do_next() {
+    eker_next=$(next_eker)
+
+    git clean -dfx
+
+    git merge --no-commit --strategy recursive --strategy-option ours "$eker_next" || true
+
+    git ls-files --ignored --exclude-standard | sort -u | xargs -I file rm file
+    git add -u
+
+    git commit --reuse-message="$eker_next" --no-edit
+
+    git status
+}
+
+while [[ "$(current_eker)" != "$(git rev-parse "$stop_point")" ]]; do do_next; done
-- 
2.14.1

